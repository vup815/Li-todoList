(this.webpackJsonptodolist=this.webpackJsonptodolist||[]).push([[0],{20:function(t,n,e){"use strict";e.r(n);var c,o,a,i,r,s,d,j,b,u,l,p,h,O=e(0),x=e.n(O),f=e(9),m=e.n(f),g=e(4),v=e(2),y=e(3),k=e(1),w=y.a.div(c||(c=Object(v.a)(["\n    width: 360px;\n    margin: 0 auto;\n"]))),S=y.a.h1(o||(o=Object(v.a)(["\n    color: #333;\n"]))),J=y.a.form(a||(a=Object(v.a)(["\n    margin-top: 16px;\n"]))),z=y.a.textarea(i||(i=Object(v.a)(["\n    width: 100%;\n"]))),A=y.a.button(r||(r=Object(v.a)(["\n    margin-top: 8px;\n    display: block;\n"]))),D=y.a.div(s||(s=Object(v.a)(["\n    margin-top: 16px;\n"]))),E=y.a.div(d||(d=Object(v.a)(["\n    border: 1px solid black;\n    padding: 8px 16px;\n    border-radius: 8px;\n\n    & + & {\n        margin-top: 8px;\n    }\n"]))),L=y.a.div(j||(j=Object(v.a)(["\n    display: flex;\n    justify-content: space-between;\n    padding-bottom: 4px;\n    border-bottom: 1px solid rgba(0, 0, 0, 0.3);\n"]))),_=y.a.div(b||(b=Object(v.a)(["\n    color: rgba(12, 22, 33, 0.3);\n"]))),B=y.a.div(u||(u=Object(v.a)([""]))),C=y.a.div(l||(l=Object(v.a)(["\n    margin-top: 16px;\n    font-size: 16px;\n"]))),F=y.a.div(p||(p=Object(v.a)(["\n    color: red;\n"]))),I=y.a.div(h||(h=Object(v.a)(["\n    position: fixed;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    background: rgba(0, 0, 0, 0.5);\n    color: white;\n    font-size: 30px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n"])));function M(t){var n=t.author,e=t.time,c=t.children;return Object(k.jsxs)(E,{children:[Object(k.jsxs)(L,{children:[Object(k.jsx)(_,{children:n}),Object(k.jsx)(B,{children:new Date(e).toLocaleString()})]}),Object(k.jsx)(C,{children:c})]})}var N=function(){var t=Object(O.useState)([]),n=Object(g.a)(t,2),e=n[0],c=n[1],o=Object(O.useState)(null),a=Object(g.a)(o,2),i=a[0],r=a[1],s=Object(O.useState)(),d=Object(g.a)(s,2),j=d[0],b=d[1],u=Object(O.useState)(!1),l=Object(g.a)(u,2),p=l[0],h=l[1],x=function(){return fetch("https://student-json-api.lidemy.me/comments?_sort=createdAt&_order=desc").then((function(t){return t.json()})).then((function(t){c(t)})).catch((function(t){r(t.message),console.error(t)}))};return Object(O.useEffect)((function(){x()}),[]),Object(k.jsxs)(w,{children:[p&&Object(k.jsx)(I,{children:"Loading..."}),Object(k.jsx)(S,{children:"\u7559\u8a00\u677f"}),Object(k.jsxs)(J,{onSubmit:function(t){t.preventDefault(),p||(h(!0),b(""),fetch("https://student-json-api.lidemy.me/comments",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({nickname:"hahow sucks",body:j})}).then((function(t){return t.json()})).then((function(t){t.ok||r(t.message),x(),h(!1)})).catch((function(t){h(!1)})))},onFocus:function(){return r(null)},children:[Object(k.jsx)(z,{value:j,onChange:function(t){b(t.target.value)},rows:10}),Object(k.jsx)(A,{children:"\u9001\u51fa\u7559\u8a00"})]}),i&&Object(k.jsx)(F,{children:i}),Object(k.jsx)(D,{children:e&&e.slice(0,6).map((function(t){return Object(k.jsx)(M,{author:t.nickname,time:t.createdAt,children:t.body},t.id)}))})]})};m.a.render(Object(k.jsx)(x.a.StrictMode,{children:Object(k.jsx)(N,{})}),document.getElementById("root"))}},[[20,1,2]]]);
//# sourceMappingURL=main.70ddd9e5.chunk.js.map